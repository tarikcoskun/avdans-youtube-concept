@import "channel-view.scss";
@import "utility.scss";

body { overflow-x: hidden; background: var(--bg); }
header {
  position: fixed; left: 0;

  &.navigation {
    top: 0;
    z-index: 100;
    max-height: 72px;
    padding: 20px 32px;
    background: var(--bg);
    width: calc(100% - 60px);
    @include flex($align: center, $justify: space-between);

    aside {
      &.brand {
        @include flex($align: center, $gap: 16px);
        img { width: 48px; border-radius: 50%; }
      }

      &.search {
        width: 42%;
        cursor: text;
        border-width: 2px;
        position: relative;
        padding: 10px 20px;
        border-radius: 6px;
        border-style: solid;
        background: var(--search);
        border-color: transparent;
        transition-duration: 200ms;
        transform: translateX(-50%);
        transition-property: background, color;
        position: absolute; left: 50%; right: 50%;
        @include flex($align: center, $gap: 16px);

        i, input::placeholder { color: #A8A8A8; font-weight: 500; }
        input {
          height: 100%;
          font-size: 16px;
          background: transparent;
          width: calc(100% - 108px);
          position: absolute; left: 54px; top: 0;
          &:focus { outline: none; }
        }

        &:focus-within {
          border-image: linear-gradient(to right,
            var(--hover) 0 54px,
            var(--text 54px calc(100% - 54px),
            var(--hover) calc(100% - 54px) 100%) 0 0 100% 0);
        }

        &:hover, &:focus-within {
          background: var(--hover);
          i, input::placeholder { color: var(--text); }
        }
      }

      &.links {
        font-weight: 500;
        @include flex($align: center, $gap: 26px);
        img { border-radius: 50%; }
      }

      i.action-icon { font-size: 32px; cursor: pointer; }
    }
  }

  &.sidebar {
    top: 72px;
    width: 240px;
    overflow-y: auto;
    overflow-x: hidden;
    background: var(--bg);
    padding: 16px 16px 16px 0;
    max-height: calc(100vh - 96px);
    @include flex($direction: column, $gap: 16px);

    a.create-video {
      margin: 0 32px;
      width: max-content;
      background: var(--button);
      @include flex($align: center, $gap: 8px);

      i { font-size: 28px; transition: 200ms color; color: red; }
    }

    aside {
      @include flex($direction: column, $gap: 2px);

      a {
        overflow: hidden;
        padding: 10px 32px;
        white-space: nowrap;
        text-overflow: ellipsis;
        transition-duration: 200ms;
        border-radius: 0 36px 36px 0;
        font-size: 18px; font-weight: 600;
        transition-property: box-shadow, background, color;
        @include flex($align: center, $gap: 16px);

        i { font-size: 26px; transition: 200ms color; }
        img { width: 26px; border-radius: 50%; }
        &:hover, &:focus {
          background: var(--button);
          color: var(--title);
          box-shadow: 0 4px 8px var(--shadow);
          i { color: red; }
        }
      }

      label { font-size: 16px; font-weight: 600; margin: 4px 32px; }
    }

    &.sidebar-compact {
      padding: 0;
      width: 100px;
      max-height: calc(100vh - 64px);
      aside {
        &.links {
          a {
            border-radius: 0;
            padding: 16px 8px;
            flex-direction: column; gap: 8px;
            font-size: 12px; font-weight: 500;
          }
        }

        &.subscriptions { display: none; }
      }
    }

    &::-webkit-scrollbar {
      width: 3px;
      &-thumb { background: transparent; }
    }

    &:hover { &::-webkit-scrollbar-thumb { background: var(--text); } }
  }
}

// Mobile
@media only screen and (max-width: 768px) {
  header {
    &.navigation { display: none; }
    &.sidebar {
      padding: 0;

      aside.links {
        gap: 0;

        a {
          border-radius: 0;
          padding: 6px !important;
          flex-direction: column; gap: 4px;
          font-size: 12px; font-weight: 500;

          i { font-size: 24px; }
        }
      }

      width: 100% !important;
      bottom: 0 !important; top: unset !important;

      aside {
        &.subscriptions { display: none; }
        &.links {
          flex-direction: row !important;

          a { width: 100%; }
          div.subscriptions { display: none; }
          a.create, a.history, a.watch-later { display: none !important; }
        }
      }

      a.create-video { display: none !important; }
    }
  }
}